<h1 class="text-center">Crear usuario</h1>
<hr />
<div style="text-align: center">
  <form novalidate [formGroup]="user">
    <div class="form-group">
      <label>
        <span>Nombre</span>
        <input
          type="text"
          class="form-control"
          placeholder="Ingrese el nombre"
          formControlName="name"
        />
      </label>
      <div
        class="error"
        style="color: red"
        *ngIf="
          user.get('name')?.hasError('required') && user.get('name')?.touched
        "
      >
        Nombre requerido
      </div>
    </div>
    <div class="form-group">
      <label>
        <span>Documento</span>
        <input
          type="text"
          class="form-control"
          placeholder="Ingrese el numero de documento"
          formControlName="documentNumber"
        />
      </label>
    </div>
    <div
      class="error"
      style="color: red"
      *ngIf="
        user.get('documentNumber')?.hasError('required') &&
        user.get('documentNumber')?.touched
      "
    >
      Documento requerido
    </div>
    <div class="form-group">
      <label>
        <span>Nombre de usuario</span>
        <input
          type="text"
          class="form-control"
          placeholder="Ingrese su nombre de usuario"
          formControlName="userName"
        />
      </label>
    </div>
    <div
      class="error"
      style="color: red"
      *ngIf="
        user.get('userName')?.hasError('required') &&
        user.get('userName')?.touched
      "
    >
      Documento requerido
    </div>

    <div class="form-group">
      <label>
        <span>contraseña</span>
        <input
          [type]="showPassword ? 'text' : 'password'"
          class="form-control"
          placeholder="Ingrese su contraseña"
          formControlName="password"
        />
      </label>
    </div>
    <div
      class="error"
      style="color: red"
      *ngIf="user.get('password')?.hasError('required') &&
        user.get('userName')?.touched"
      
    >
      Contraseña requerida
    </div>
    <div class="form-group">
      <label>
        <span>Repetir contraseña</span>
        <input matInput
          [type]="showPassword ? 'text' : 'password'"
          class="form-control"
          placeholder="Ingrese su contraseña"
          formControlName="confirmPassword"
          [errorStateMatcher]="matcher"
        />
      </label>
    </div>

    <div
       class="alert alert-danger"
      style="color: red"
      *ngIf="user.get('confirmPassword')?.hasError('checkPasswords')"
    >
      Las contraseñas no coinciden
    </div>
    <button class="btn btn-primary" (click)="showHidePassword()">
      {{ showPassword ? "Ocultar" : "Ver" }} Contraseña
    </button>
    <div>
      <button
        type="submit"
        [disabled]="user.invalid"
        class="btn btn-success mt-3"
        (click)="saveUser()"
      >
        Registrar usuario
      </button>
    </div>
  </form>
</div>
